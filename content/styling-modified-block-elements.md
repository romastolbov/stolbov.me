---
title: "SCSS: Стилизация элементов модифицированного блока"
date: "25 января, 2023"
description: "Несколько способов сделать одно и то же"
tags: ["dev"]
---

Давайте представим, что у нас есть вот такой простенький HTML-компонент, который мы планируем повторно использовать в нашем приложении. Классы именуем так, как это рекомендует делать методология [БЭМ](https://ru.bem.info/methodology/key-concepts/){:target="\_blank"}.

```html
<div class="block">
  <h2 class="block__title">Заголовок</h2>
  <p class="block__description">Описание</p>
</div>
```

Далее стилизуем наш компонент, используя для этого препроцессор [SCSS](https://sass-lang.com/documentation/){:target="\_blank"}:

```scss
.block {
  border: 1px solid red;

  &__title {
    color: black;
  }

  &__description {
    color: blue;
  }
}
```

Отлично, наш компонент готов. Представим, что где-то в приложении, он должен выглядеть иначе, например иметь другие цвета у бордера, заголовка и описания.

Так как мы знаем и используем БЭМ, чтобы задать другие стили, идём и добавляем модификатор `--secondary` для нашего блока:

```html
<div class="block block--secondary">
  <h2 class="block__title">Заголовок</h2>
  <p class="block__description">Описание</p>
</div>
```

Теперь когда у нас есть `класс-модификатор`, необходимо его стилизовать.

## Добавляем стили

Стилизовать элементы блока с модификатором в SCSS можно аж несколькими способами. Когда я впервые познакомился с SCSS и столкнулся с такой задачей, первое, что я написал, выглядело как-то так:

```scss
.block {
  &--secondary {
    border-color: green;

    &__title {
      color: white;
    }

    &__description {
      color: pink;
    }
  }
}
```

Конечно же это не сработало, что вполне логично. Здесь стили сработают для самого блока с модификатором, но не для его элементов. И если взглянуть на итоговый CSS, сразу станет ясно почему:

```css
.block--secondary {
  border-color: green;
}

.block--secondary__title {
  color: white;
}

.block--secondary__description {
  color: pink;
}
```

## Одиночный и двойной амперсанды

Наверное самым простым, но не самым оптимальным решением будет стилизация блока и его элементов отдельно друг от друга с использованием амперсанда:

```scss
.block {
  &--secondary {
    border-color: green;
  }

  &--secondary & {
    &__title {
      color: white;
    }

    &__description {
      color: pink;
    }
  }
}
```

Именно этот подход я использую в своей работе, так как он кажется мне наиболее понятным и лаконичным. Однако, как мы видим, он неидеальный.

**Во-первых**, нам приходиться отдельно стилизовать сам блок с модификатором и его элементы. Что приводит к дублированию названия модификатора в стилях.

**Во-вторых**, при таком подходе мы теряем полноценную вложенность и привязку к классу блока.

При этом, если проблему с дублированием можно исправить используя двойной амперсанд, то с сохранением вложенности нам смогут помочь только переменные.

```scss
.block {
  &--secondary {
    border-color: green;

    & & {
      &__title {
        color: white;
      }

      &__description {
        color: pink;
      }
    }
  }
}
```

## Переменные

**Переменные** в SCSS это очень мощный инструмент который позволяет делать какие-то невероятные вещи. В том числе их можно использовать для стилизации элементов модифицированного блока.

```scss
$block: block;

.#{$block} {
  .#{$block}--secondary {
    border-color: green;

    .#{$block}__title {
      color: white;
    }

    .#{$block}__description {
      color: pink;
    }
  }
}
```

Такая запись, в отличие от предыдущего примера, позволяет нам сохранить полноценную вложенность классов в скомпилированном CSS, сравните:

```css
/*С амперсандом*/
.block--secondary .block__description {
  color: pink;
}

/*С переменной*/
.block .block--secondary .block__description {
  color: pink;
}
```

Однако, этот подход, на мой взгляд, уже не так прост для быстрого восприятия, плюс нам нужно выносить переменную класса отдельно.

Чтобы не выносить переменную, можно написать вот так:

```scss
.block {
  $parent: &;

  #{$parent}--secondary {
    color: blue;

    #{$parent}__title {
      color: white;
    }

    #{$parent}__description {
      color: pink;
    }
  }
}
```

## Как точно не нужно делать

При наличии всех этих способов, зачастую, в разных проектах я всё равно встречаю когда эту задачу решают явным указанием класса элемента. На мой взгляд, это самое неудачное решение, так как в случае если мы захотим изменить класс блока, кроме HTML, изменения придётся вносить ещё и в стили. В итоге в какой-то степени теряется смысл использования препроцессора.

```scss
.block {
  &--secondary {
    border-color: green;

    .block__title {
      color: white;
    }

    .block__description {
      color: pink;
    }
  }
}
```

## Ссылочная

- [SassMeister](https://www.sassmeister.com/){:target="\_blank"}
- [Sass Lang](https://sass-lang.com/documentation/){:target="\_blank"}
- [Концепции БЭМ](https://ru.bem.info/methodology/key-concepts/){:target="\_blank"}
